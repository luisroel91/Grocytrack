{"version":3,"file":"immer.umd.js","sources":["../src/common.js","../src/scope.js","../src/es5.js","../src/proxy.js","../src/patches.js","../src/immer.js","../src/index.js"],"sourcesContent":null,"names":["NOTHING","Symbol","DRAFTABLE","for","DRAFT_STATE","isDraft","value","isDraftable","Array","isArray","proto","Object","getPrototypeOf","prototype","isMap","isSet","constructor","original","base","const","assign","target","overrides","forEach","override","keys","key","ownKeys","Reflect","getOwnPropertySymbols","obj","getOwnPropertyNames","concat","shallowCopy","invokeGetters","slice","Map","Set","clone","create","desc","getOwnPropertyDescriptor","get","call","enumerable","defineProperty","writable","configurable","each","iter","entry","index","isEnumerable","prop","has","thing","hasOwnProperty","is","x","y","ImmerScope","parent","drafts","canAutoFreeze","patches","revoke","draft","usePatches","patchListener","inversePatches","leave","this","current","enter","descriptors","createProxy","clonePotentialDraft","state","assertUnrevoked","peek","latest","finalizing","prepareCopy","copy","set","assigned","modified","markChanged","proxyProperty","scope","finalized","revoked","push","Error","JSON","stringify","markChangesSweep","let","i","length","hasArrayChanges","hasObjectChanges","baseValue","undefined","descriptor","result","isReplaced","markChangesRecursively","object","traps","objectTraps","arrayTraps","mapTraps","setTraps","Proxy","revocable","proxy","deleteProperty","owner","setPrototypeOf","fn","arguments","apply","isNaN","parseInt","reflectTraps","reduce","name","args","makeTrapsForGetters","size","values","delete","clear","_","receiver","cb","thisArg","map","iterateMapValues","entries","iterator","isEntries","makeIterable","next","done","add","iterateSetValues","wrapSetValue","prev","assignMap","self","getters","generateArrayPatches","basePath","delta","start","end","path","op","useRemove","replaceCount","generatePatchesFromAssigned","assignedValue","origValue","generateSetPatches","unshift","applyPatches","patch","join","replace","splice","remove","configDefaults","useProxies","autoFreeze","process","env","NODE_ENV","onAssign","onDelete","onCopy","Immer","config","setUseProxies","produce","bind","recipe","defaultBase","hasError","Promise","then","processResult","error","createDraft","isManual","finishDraft","setAutoFreeze","modernProxy","legacyProxy","baseDraft","willFinalize","finalize","isFrozen","finalizeTree","exists","freeze","generatePatches","root","rootPath","needPatches","finalizeProperty","isDraftProp","isSetMember","immer"],"mappings":"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"}